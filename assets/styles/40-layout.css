@layer layout {
  #app {
    min-height: 100vh;
    min-height: 100svh;
    background: #0a0908;
    position: relative;
  }

  body.has-intro-started #app {
    background: radial-gradient(circle at 30% 15%, #f6f1e9 0%, var(--paper) 45%, var(--paper-deep) 100%);
  }

  body.is-preintro .background-effects {
    opacity: 0;
  }

  body.is-intro .background-effects {
    opacity: 1;
  }

  body.is-intro #app {
    clip-path: circle(0% at 50% 45%);
    animation: intro-reveal var(--intro-reveal-dur) cubic-bezier(0.12, 0.9, 0.18, 1) both;
  }

  main {
    position: relative;
    z-index: 2;
    opacity: 1;
  }

  .hero {
    min-height: 100vh;
    min-height: 100svh;
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
  }

  .hero-stage {
    width: 100%;
    max-width: 1200px;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: clamp(6px, 1.6vh, 14px);
  }

  .face-wrap {
    width: min(96vw, 1200px);
    height: clamp(320px, 70vh, 860px);
    height: clamp(320px, 70svh, 860px);
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    will-change: transform;
    transform-origin: 50% 45%;
  }

  .face-jiggle,
  .face-intro {
    position: absolute;
    inset: 0;
  }

  .face-jiggle {
    will-change: transform;
  }

  body.is-intro .face-intro {
    opacity: 0;
    transform: translate3d(0, 44vh, 0) scale(1.15, 0.72) rotate(-2deg);
    transform-origin: 50% 60%;
    animation: intro-squash-in-face var(--intro-face-dur) cubic-bezier(0.17, 0.92, 0.22, 1.2) var(--intro-face-delay)
      both;
  }

  .hero-copy {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: min(3vh, 48px);
    text-wrap: balance;
    position: relative;
    top: -84px;
    padding: clamp(16px, 4vw, 40px);
  }

  .ciao-jiggle {
    will-change: transform;
  }

  body.is-intro .ciao-intro {
    opacity: 0;
    transform: translate3d(0, 20vh, 0) scale(1.12, 0.78) rotate(-1deg);
    transform-origin: 50% 60%;
    animation: intro-squash-in var(--intro-ciao-dur) cubic-bezier(0.17, 0.92, 0.22, 1.2) var(--intro-ciao-delay) both;
  }
}
